{"version":3,"file":"use-media-size.js","sources":["../src/useMediaQuery/index.ts","../src/useMediaSizeQueries/defaultSizes.ts","../src/useMediaSizeQueries/MediaSizeQueriesContextProvider.tsx","../src/useMediaSizeQueries/index.ts","../src/useMediaSize/index.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst isClient = typeof window === \"object\";\n// Based upon a mix of:\n// https://github.com/streamich/react-use\n// https://github.com/bence-toth/react-hook-media-query\n\nexport const useMediaQuery = (query: string) => {\n  const [isMatch, setIsMatch] = useState(\n    isClient ? window.matchMedia(query).matches : false\n  );\n\n  useEffect(() => {\n    let mounted = true;\n    const onMediaMatchChange = ({\n      matches,\n    }: MediaQueryListEvent | MediaQueryList) => {\n      if (!mounted) {\n        return;\n      }\n      setIsMatch(matches);\n    };\n    const matcher = window.matchMedia(query);\n    const isModernBrowser = !!!matcher.addEventListener && typeof matcher.addEventListener === 'function';\n\n    if (isModernBrowser) {\n      matcher.addEventListener(\"change\", onMediaMatchChange);\n    } else {\n      matcher.addListener(onMediaMatchChange);\n    }\n\n    onMediaMatchChange(matcher);\n\n    return () => {\n      mounted = false;\n      if (isModernBrowser) {\n        matcher.removeEventListener(\"change\", onMediaMatchChange);\n      } else {\n        matcher.removeListener(onMediaMatchChange);\n      }\n    };\n  }, [query]);\n\n  return isMatch;\n};\n","export const DEFAULT_QUERY_SIZES = {\n  sm: 575.98,\n  md: 767.98,\n  lg: 991.98,\n  xl: 1199.98,\n};\n","import * as React from \"react\";\nimport { DEFAULT_QUERY_SIZES } from \"./defaultSizes\";\n\nexport interface MediaSizesState {\n  sm: number;\n  md: number;\n  lg: number;\n  xl: number;\n}\n\nexport const MediaSizeQueriesStateContext = React.createContext<\n  MediaSizesState\n>(DEFAULT_QUERY_SIZES);\n\nexport function MediaSizeQueriesContextProvider({\n  children,\n  defaults,\n}: React.PropsWithChildren<{ defaults: MediaSizesState }>) {\n  return (\n    <MediaSizeQueriesStateContext.Provider\n      value={DEFAULT_QUERY_SIZES || defaults}\n    >\n      {children}\n    </MediaSizeQueriesStateContext.Provider>\n  );\n}\n","import * as React from \"react\";\nimport { DEFAULT_QUERY_SIZES } from \"./defaultSizes\";\nimport { MediaSizeQueriesStateContext } from \"./MediaSizeQueriesContextProvider\";\n\nexport function useMediaSizeQueries() {\n  const context = React.useContext(MediaSizeQueriesStateContext);\n  if (context === undefined) {\n    return DEFAULT_QUERY_SIZES;\n  }\n  return context;\n}\n","import { useMediaSizeQueries } from \"../useMediaSizeQueries\";\nimport { useMediaQuery } from \"../useMediaQuery\";\nimport { MediaSizesState } from \"../useMediaSizeQueries/MediaSizeQueriesContextProvider\";\n\nexport const useMediaSize = (overrideSizes?: MediaSizesState) => {\n  const defaultSizes = useMediaSizeQueries();\n  let joinedSizes;\n  if (!overrideSizes) {\n    joinedSizes = defaultSizes;\n  } else {\n    joinedSizes = {\n      ...defaultSizes,\n      ...overrideSizes,\n    };\n  }\n  return {\n    isSm: useMediaQuery(`(max-width: ${joinedSizes.sm}px)`),\n    isMd: useMediaQuery(`(max-width: ${joinedSizes.md}px)`),\n    isLg: useMediaQuery(`(max-width: ${joinedSizes.lg}px)`),\n    isXl: useMediaQuery(`(max-width: ${joinedSizes.xl}px)`),\n  };\n};\n"],"names":["isClient","window","useMediaQuery","query","useState","matchMedia","matches","useEffect","mounted","onMediaMatchChange","setIsMatch","matcher","isModernBrowser","addEventListener","addListener","removeEventListener","removeListener","isMatch","DEFAULT_QUERY_SIZES","sm","md","lg","xl","MediaSizeQueriesStateContext","React","useMediaSizeQueries","context","undefined","React.createElement","Provider","value","overrideSizes","joinedSizes","defaultSizes","Object","isSm","isMd","isLg","isXl"],"mappings":"uBAEMA,EAA6B,iBAAXC,OAKXC,WAAiBC,SACEC,aAC5BJ,GAAWC,OAAOI,WAAWF,GAAOG,8BAGtCC,2BACMC,GAAU,EACRC,cAGCD,GAGLE,cAEIC,EAAUV,OAAOI,WAAWF,GAC5BS,GAAqBD,EAAQE,kBAAwD,mBAA7BF,EAAQE,wBAElED,EACFD,EAAQE,iBAAiB,SAAUJ,GAEnCE,EAAQG,YAAYL,GAGtBA,EAAmBE,cAGjBH,GAAU,EACNI,EACFD,EAAQI,oBAAoB,SAAUN,GAEtCE,EAAQK,eAAeP,KAG1B,CAACN,IAEGc,GC3CIC,EAAsB,CACjCC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SCMOC,EAA+BC,gBAE1CN,YCRcO,QACRC,EAAUF,aAAiBD,eACjBI,IAAZD,EACKR,EAEFQ,mHDULE,gBAACL,EAA6BM,UAC5BC,MAAOZ,0DEhBgBa,OAEvBC,EADEC,EAAeR,WAKnBO,EAHGD,EAGWG,iBACTD,EACAF,GAJSE,EAOT,CACLE,KAAMjC,iBAA6B8B,YACnCI,KAAMlC,iBAA6B8B,YACnCK,KAAMnC,iBAA6B8B,YACnCM,KAAMpC,iBAA6B8B"}